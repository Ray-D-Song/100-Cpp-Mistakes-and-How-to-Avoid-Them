本章内容

\begin{itemize}
\item
宏概述

\item
使用特定宏

\item
C 风格字符串

\item
布尔值的错误数据类型
\end{itemize}

C 是 C++ 的主要前身，其影响力遍及广泛的项目。许多 C++ 的早期采用者都是 C 开发者，他们也在寻找“更好的 C”。C++ 提供了与 C 的兼容性，但有少数例外。这些例外对于更好的类型检查、正确性和语言一致性是必不可少的。

然而，在 C++ 问世之后，C 编码的许多方面也从未改变。许多开发者学习了 C 中的风格和技术，并将它们带到了 C++ 中。编译器很少抱怨这些方法。生成的代码可以编译并运行 — 还能期待什么呢？但这种转变并不一定意味着，开发人员开始抛弃 C 语言的习语，并采用C++ 方法。许多代码的编写并没有考虑到表达相同意图的新方法。

在这些年里，C++ 和 C 开始越来越分化。C99 标准明确并标准化了 C，同时从 C++ 中吸取了一些内容；C++ 采纳了 C 的一些创新。这两种语言仍然独立，但彼此之间相互促进。

语言的差异导致了一系列问题和错误，这些问题和错误是 C++ 代码中C 风格的特点。这些错误大多无害，因为代码可以运行，但很难读写。

本章介绍了 C 开发人员用 C++ 编写的代码库中存在的几个问题。尽管存在更好的方法，但开发人员必须使用它来解决这些问题。为了改进 C++ 代码，必须了解 C 的影响，以及如何纠正其与 C 向后兼容性的常见误用。下一章将继续这个主题，但重点介绍误用 C++ 构造，这些构造通常以C语言的方式编写。







